print((lambda k, a: a[-1] < 0 and k & 1 and reduce(__import__("operator").mul, a[-k:]) or (a[-1] or k & 1 ^ 1) and (lambda n: (lambda _: n[0])(map(lambda _: n.__setitem__(0, (lambda k: a.pop(-k) * a.pop(-k) * n[0])(a[0] * a[1] < a[-1] * a[-2])), xrange(k >> 1))))([k & 1 and a.pop() or 1]))(int(__import__("sys").stdin.readline().split()[1]), sorted(map(int, __import__("sys").stdin.read().split()))))